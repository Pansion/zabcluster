07/31/12 06:13:34.446.711 INFO :begin test leader election, using configuration file: ./batch_nodes/dt2/zoo.cfg [pid:24059 test_zab.cc:31]
07/31/12 06:13:34.447.330 INFO :Send Worker Started [pid:24059 election_cnxmgr.cc:128]
07/31/12 06:13:34.447.450 INFO :Listener 2 on port 4182 started [pid:24059 election_cnxmgr.cc:745]
07/31/12 06:13:34.447.661 INFO :getting last zxid from redis [pid:24059 zabdb_redis.cc:129]
07/31/12 06:13:34.447.771 INFO :Server Channel setup successfully on 37 for client -1 [pid:24059 zabdb_redis.cc:540]
07/31/12 06:13:34.449.242 INFO :last processed zxid was 0x0 [pid:24059 zabdb_redis.cc:413]
07/31/12 06:13:34.449.309 INFO :Looking... [pid:24059 quorum_peer.cc:139]
07/31/12 06:13:34.449.423 ERROR:Could not read file ./batch_nodes/dt2/currentEpoch [pid:24059 quorum_peer.cc:68]
07/31/12 06:13:34.449.458 INFO :Updating proposal: 0x2 (newleader) 0x0 (newzxid) 0x0 (newepoch) 0x0 (oldleader) 0x0 (oldzxid) 0x0 (oldepoch) [pid:24059 election_strategy.cc:126]
07/31/12 06:13:34.449.494 INFO :New election. My id =  2, proposed zxid=0x0x0 [pid:24059 election_strategy.cc:223]
07/31/12 06:13:34.449.532 INFO :no send queue for server 1 create one [pid:24059 election_cnxmgr.cc:286]
07/31/12 06:13:34.449.575 INFO :no send queue for server 3 create one [pid:24059 election_cnxmgr.cc:286]
07/31/12 06:13:34.449.709 INFO :totalOrderPredicate: id:0x2, current proposed id:0x2, zxid:0x0, current proposed zxid:0x0, epoch:0x0, current proposed epoch:0x0 [pid:24059 election_strategy.cc:139]
07/31/12 06:13:34.449.748 INFO :Adding vote: from=0x2, proposed leader=0x2, proposed zxid=0x0, proposed election epoch=0x1, proposed peer epoch=0x0 [pid:24059 election_strategy.cc:271]
07/31/12 06:13:34.651.851 INFO :connecting to server 1 [pid:24059 election_cnxmgr.cc:855]
07/31/12 06:13:34.652.742 INFO :setup send/recieve worker for server 1 on 38 [pid:24059 election_cnxmgr.cc:821]
07/31/12 06:13:34.653.418 INFO :SendWorker::Try to add new connection fd 38 sid 1 [pid:24059 election_cnxmgr.cc:87]
07/31/12 06:13:34.653.953 INFO :SendWorker::Added new connection fd 38 sid 1 [pid:24059 election_cnxmgr.cc:95]
07/31/12 06:13:34.654.024 INFO :RecvWorker::Try to add new connection fd 38 sid 1 [pid:24059 election_cnxmgr.cc:361]
07/31/12 06:13:34.654.189 INFO :RecvWorker::Added new connection fd 38 sid 1 [pid:24059 election_cnxmgr.cc:370]
07/31/12 06:13:34.654.221 INFO :connecting to server 2 [pid:24059 election_cnxmgr.cc:855]
07/31/12 06:13:34.654.249 INFO :connecting to server 3 [pid:24059 election_cnxmgr.cc:855]
07/31/12 06:13:34.654.296 ERROR:could not connect to server 3 addr 127.0.0.1 port 4183 errno 111 [pid:24059 election_cnxmgr.cc:887]
07/31/12 06:13:34.654.326 INFO :Notification time out: 400 [pid:24059 election_strategy.cc:242]
07/31/12 06:13:34.654.398 INFO :totalOrderPredicate: id:0x1, current proposed id:0x2, zxid:0x0, current proposed zxid:0x0, epoch:0x0, current proposed epoch:0x0 [pid:24059 election_strategy.cc:139]
07/31/12 06:13:34.654.432 INFO :Adding vote: from=0x1, proposed leader=0x1, proposed zxid=0x0, proposed election epoch=0x1, proposed peer epoch=0x0 [pid:24059 election_strategy.cc:271]
07/31/12 06:13:34.655.440 INFO :totalOrderPredicate: id:0x2, current proposed id:0x2, zxid:0x0, current proposed zxid:0x0, epoch:0x0, current proposed epoch:0x0 [pid:24059 election_strategy.cc:139]
07/31/12 06:13:34.655.477 INFO :Adding vote: from=0x1, proposed leader=0x2, proposed zxid=0x0, proposed election epoch=0x1, proposed peer epoch=0x0 [pid:24059 election_strategy.cc:271]
07/31/12 06:13:34.856.842 INFO :About to leave FLE instance: leader=0x2, zxid=0x0, my id=0x2, my state=0x2, my peerEpoch=0x0 [pid:24059 election_strategy.cc:185]
07/31/12 06:13:34.856.906 INFO :My Id: 2 Leader election took 407 ms my role:2 Leader Info:2 (id) 0x0 (zxid) 0x0 (peerEpoch) [pid:24059 quorum_peer.cc:153]
07/31/12 06:13:34.856.942 INFO :Leading.... [pid:24059 leader.cc:618]
07/31/12 06:13:34.856.988 ERROR:Could not read file ./batch_nodes/dt2/currentEpoch [pid:24059 quorum_peer.cc:68]
07/31/12 06:13:34.857.026 ERROR:Could not read file ./batch_nodes/dt2/acceptedEpoch [pid:24059 quorum_peer.cc:68]
07/31/12 06:13:35.606.801 INFO :setup send/recieve worker for server 3 on 50 [pid:24059 election_cnxmgr.cc:821]
07/31/12 06:13:35.606.842 INFO :SendWorker::Try to add new connection fd 50 sid 3 [pid:24059 election_cnxmgr.cc:87]
07/31/12 06:13:35.606.871 INFO :SendWorker::Added new connection fd 50 sid 3 [pid:24059 election_cnxmgr.cc:95]
07/31/12 06:13:35.606.902 INFO :RecvWorker::Try to add new connection fd 50 sid 3 [pid:24059 election_cnxmgr.cc:361]
07/31/12 06:13:35.606.945 INFO :RecvWorker::Added new connection fd 50 sid 3 [pid:24059 election_cnxmgr.cc:370]
07/31/12 06:13:35.858.860 INFO :Got new learner connection on sock 51 [pid:24059 leader.cc:132]
07/31/12 06:13:35.859.140 INFO :New Follower sid:1 [pid:24059 leader.cc:281]
07/31/12 06:13:35.859.176 INFO :Leader was waiting for epoch, add my information [pid:24059 leader.cc:286]
07/31/12 06:13:35.859.205 INFO :we have majority of followers, wake up and move to next state [pid:24059 leader.cc:810]
07/31/12 06:13:35.859.343 INFO :we get new epoch 1 from quorum, move state to ZAB_NEW_EPOCH [pid:24059 leader.cc:647]
07/31/12 06:13:35.859.382 INFO :send new epoch 1 to quorum, move state to ZAB_WAITING_EPCH_ACK [pid:24059 leader.cc:662]
07/31/12 06:13:35.859.410 INFO :Waiting for epch ack from quorum [pid:24059 leader.cc:668]
07/31/12 06:13:35.859.943 INFO :We get enough EPOCHACK, move state to ZAB_NEW_LEADER [pid:24059 leader.cc:674]
07/31/12 06:13:35.860.004 INFO :Broadcast NEW_LEADER to quorum [pid:24059 leader.cc:686]
07/31/12 06:13:35.860.036 INFO :send NEWLEADER proposal to quorum, move state to ZAB_NEW_LEADER_ACK [pid:24059 leader.cc:691]
07/31/12 06:13:35.860.064 INFO :Waiting for NEWLEADER ACK from quorum [pid:24059 leader.cc:696]
07/31/12 06:13:35.860.212 INFO :We got NEWLEADER ACK from server 1 [pid:24059 leader.cc:344]
07/31/12 06:13:35.860.253 INFO :we got enough ACK from quorom, move state to ZAB_LEADER_COMMIT [pid:24059 leader.cc:703]
07/31/12 06:13:35.860.281 INFO :New Leader commit, leading... [pid:24059 leader.cc:709]
07/31/12 06:13:36.011.857 INFO :Got new learner connection on sock 60 [pid:24059 leader.cc:132]
07/31/12 06:13:36.011.914 INFO :New Follower sid:3 [pid:24059 leader.cc:281]
07/31/12 06:13:36.011.943 INFO :Leader have proposed NEW EPOCH, send LEADERINFO [pid:24059 leader.cc:290]
07/31/12 06:13:36.012.753 INFO :NEW Leader announced, send NEWLEADER [pid:24059 leader.cc:326]
07/31/12 06:13:36.014.300 INFO :leader was already commited by quorum, send commit packet to new follower [pid:24059 leader.cc:354]
